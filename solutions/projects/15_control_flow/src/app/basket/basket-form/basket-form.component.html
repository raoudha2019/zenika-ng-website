<form class="card-body" [formGroup]="formGroup" (ngSubmit)="checkout()">
  <div class="mb-3">
    <label class="form-label" for="name">Nom</label>

    <input
      type="text"
      id="name"
      class="form-control"
      [class.is-invalid]="formGroup.controls.name.touched && formGroup.controls.name.invalid"
      [class.is-valid]="formGroup.controls.name.valid"
      [formControl]="formGroup.controls.name"
    />

    <div class="invalid-feedback">Champ obligatoire</div>
  </div>

  <div class="mb-3">
    <label class="form-label" for="address">Adresse</label>

    <textarea
      id="address"
      class="form-control"
      [class.is-invalid]="formGroup.controls.address.touched && formGroup.controls.address.invalid"
      [class.is-valid]="formGroup.controls.address.valid"
      [formControl]="formGroup.controls.address"
    ></textarea>

    <div class="invalid-feedback">Champ obligatoire</div>
  </div>

  <div class="mb-3">
    <label class="form-label" for="creditCard">Numéro de carte de crédit</label>

    <input
      id="creditCard"
      class="form-control"
      [class.is-invalid]="formGroup.controls.creditCard.touched && formGroup.controls.creditCard.invalid"
      [class.is-valid]="formGroup.controls.creditCard.valid"
      [formControl]="formGroup.controls.creditCard"
    />

    @if (formGroup.controls.creditCard.errors; as errors) {
      <div class="invalid-feedback">
        @if (errors?.['required']) {
          Champ obligatoire
        }
        @if (errors?.['pattern']) {
          Le numéro doit être valide (ex. 123-456)
        }
      </div>
    }
  </div>

  <button [disabled]="formGroup.invalid || formGroup.disabled" type="submit" class="btn btn-success">Valider</button>
</form>
